<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:PlannerApp.ViewModels"
        x:Class="PlannerApp.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="PlannerApp">

    <StackPanel Margin="20">
        <!-- Форма входа -->
        <TextBlock Text="Планировщик задач" FontSize="24" Margin="0,0,0,20" />
        
        <!-- Ввод логина и пароля -->
        <TextBox Watermark="Введите имя пользователя" Text="{Binding Username}" IsVisible="{Binding IsLoggedIn, Converter={StaticResource InverseBooleanConverter}}"/>
        <TextBox Watermark="Введите пароль" Text="{Binding Password}" IsVisible="{Binding IsLoggedIn, Converter={StaticResource InverseBooleanConverter}}"/>
        
        <!-- Кнопка входа -->
        <Button Content="Войти" Command="{Binding LoginCommand}" IsVisible="{Binding IsLoggedIn, Converter={StaticResource InverseBooleanConverter}}"/>
        
        <!-- Ошибка при неверных данных -->
        <TextBlock Text="{Binding ErrorMessage}" Foreground="Red" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,10,0,0" IsVisible="{Binding ErrorMessage}"/>
        
        <!-- Приветственное сообщение после входа -->
        <TextBlock Text="{Binding Greeting}" Margin="0,20,0,0" IsVisible="{Binding IsLoggedIn}" />

        <!-- Список задач после входа -->
        <ListBox ItemsSource="{Binding Todos}" IsVisible="{Binding IsLoggedIn}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel>
                        <TextBlock Text="{Binding Title}" />
                        <TextBlock Text="{Binding Description}" />
                        <TextBlock Text="{Binding Deadline}" />
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <!-- Кнопка для добавления задачи -->
        <Button Content="Добавить задачу" Command="{Binding AddTodoCommand}" IsVisible="{Binding IsLoggedIn}"/>

        <!-- Кнопка для удаления задачи -->
        <Button Content="Удалить задачу" Command="{Binding RemoveTodoCommand}" IsVisible="{Binding IsLoggedIn}"/>
    </StackPanel>
</Window>
